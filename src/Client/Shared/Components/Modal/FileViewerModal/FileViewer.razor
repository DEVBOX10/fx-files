@namespace Functionland.FxFiles.Client.Shared.Components.Modal
@inherits AppComponentBase

@if (IsModalOpen == true)
{
    <div class="file-viewer-container">
        <div class="main-content">
            @if (IsSupported<ImageViewer>(_currentArtifact))
            {
                <ImageViewer CurrentArtifact="@_currentArtifact"
                             OnOptionClick="OnOptionClick"
                             FileService="FileService"
                             OnBack="HandleBackAsync"
                             OnUnpin="OnUnpin" 
                             OnPin="OnPin" />
            }
            else if (IsSupported<ZipViewer>(_currentArtifact))
            {
                <ZipViewer CurrentArtifact="_currentArtifact"
                           FileService="FileService"
                           NavigationFolderCallback="HandleNavigateAsync"
                           OnBack="HandleBackAsync"
                           ThumbnailService="ThumbnailService" />
            }
            else if (IsSupported<TextViewer>(_currentArtifact))
            {
                <TextViewer CurrentArtifact="_currentArtifact"
                            FileService="FileService"
                            OnBack="HandleBackAsync"
                            OnOptionClick="OnOptionClick"
                            OnPin="OnPin"
                            OnUnpin="OnUnpin" />
            }
        </div>
    </div>
}