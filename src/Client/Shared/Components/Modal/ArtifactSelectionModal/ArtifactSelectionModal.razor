@namespace Functionland.FxFiles.Client.Shared.Components.Modal
@inherits AppComponentBase


<FxBottomSheet ShowCloseButton="false" @bind-IsOpen="_isModalOpen" OnClose="Close" IsFullScreenMode="true">
    <div class="container">
        <FxToolBar IsInRoot="false"
                   IsInSearchMode="false"
                   OnBackClick="Back"
                   Title="@_currentArtifact?.Name"
                   SubTitle="@(_currentArtifact != null?
                               $"{Localizer[nameof(AppStrings.Update)]}: {_currentArtifact?.LastModifiedDateTime.Date.Date.ToShortDateString()}"
                               : "")"
                   IsPinned="@(_currentArtifact?.IsPinned ?? false)" />

        @if (_artifacts is not null)
        {
            <ArtifactExplorer Artifacts="_artifacts"
                          ArtifactExplorerMode="ArtifactExplorerMode.SelectDestionation"
                          CurrentArtifact="_currentArtifact"
                          ArtifactActionResult="_artifactActionResult"
                          OnSelectArtifact="SelectArtifact"
                          OnCancelSelectDestionationMode="Close" />
        }
    </div>
</FxBottomSheet>